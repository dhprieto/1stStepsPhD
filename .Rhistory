if(agudo == T){
for (i in seq(1, nrow(table))){
if (grepl(pattern = "([A-C]) -1", x = table$X[i])){
table$Tiempo[i] <- "-1"
}
else if (grepl(pattern = "([A-C]) 3,5", x = table$X[i])){
table$Tiempo[i] <- "3,5"
}
else if (grepl(pattern = "([A-C]) 12", x = table$X[i])){
table$Tiempo[i] <- "12"
}
else if (grepl(pattern = "([A-C]) 24", x = table$X[i])){
table$Tiempo[i] <- "24"
}
}
}
else {
for (i in seq(1, nrow(table))){
if (grepl(pattern = "F", x = table$X[i])){
table$Tiempo[i] <- "Final"
}
if (grepl(pattern = "([A-C])0", x = table$X[i])){
table$Tiempo[i] <- "0"
}
}
}
table <- table[,colSums(is.na(table))<(nrow(table)*nasPercentageCol)]
if (nasRow == T){
table <- na.omit(table)
}
addAntro <- function (pathToAntro, table) {
antro <- read.csv(pathToAntro, sep = ";", dec = ",")
if (agudo == T)
{
for (i in seq(1, nrow(table))){
table[,1][i] <- gsub("U.*", "", table[,1][i])
}
}
else{
}
return(table())
}
table <- addAntro("data/datosAntropometricosCardiovasculares.csv",table)
return(table)
}
tableName = "agudoOrinaAntLimpio.csv"
rootDir = "data/"
tablePath = paste0(rootDir,tableName)
agudoOrinaAnt <- preprocess (tablePath, 0.05, T)
preprocess <- function(tablePath, nasPercentageCol, nasRow){
table <- read.csv(tablePath, sep = ";", dec = ",")
for (i in seq(1, nrow(table))){
if (grepl(pattern = "A", x = table$X[i])){
table$Endulzante[i] <- "ST"
}
else if (grepl(pattern = "B", x = table$X[i])){
table$Endulzante[i] <- "SU"
}
else if (grepl(pattern = "C", x = table$X[i])){
table$Endulzante[i] <- "SA"
}
}
if (grepl("agudo", tablePath)){agudo = T}
else {agudo = F}
if(agudo == T){
for (i in seq(1, nrow(table))){
if (grepl(pattern = "([A-C]) -1", x = table$X[i])){
table$Tiempo[i] <- "-1"
}
else if (grepl(pattern = "([A-C]) 3,5", x = table$X[i])){
table$Tiempo[i] <- "3,5"
}
else if (grepl(pattern = "([A-C]) 12", x = table$X[i])){
table$Tiempo[i] <- "12"
}
else if (grepl(pattern = "([A-C]) 24", x = table$X[i])){
table$Tiempo[i] <- "24"
}
}
}
else {
for (i in seq(1, nrow(table))){
if (grepl(pattern = "F", x = table$X[i])){
table$Tiempo[i] <- "Final"
}
if (grepl(pattern = "([A-C])0", x = table$X[i])){
table$Tiempo[i] <- "0"
}
}
}
table <- table[,colSums(is.na(table))<(nrow(table)*nasPercentageCol)]
if (nasRow == T){
table <- na.omit(table)
}
addAntro <- function (pathToAntro, table) {
antro <- read.csv(pathToAntro, sep = ";", dec = ",")
if (agudo == T)
{
for (i in seq(1, nrow(table))){
table[,1][i] <- gsub("U.*", "", table[,1][i])
}
}
else{
}
return(table)
}
table <- addAntro("data/datosAntropometricosCardiovasculares.csv",table)
return(table)
}
tableName = "agudoOrinaAntLimpio.csv"
rootDir = "data/"
tablePath = paste0(rootDir,tableName)
agudoOrinaAnt <- preprocess (tablePath, 0.05, T)
View(agudoOrinaAnt)
subset(antro, antro$Endulzante == "ST")
preprocess <- function(tablePath, nasPercentageCol, nasRow){
table <- read.csv(tablePath, sep = ";", dec = ",")
for (i in seq(1, nrow(table))){
if (grepl(pattern = "A", x = table$X[i])){
table$Endulzante[i] <- "ST"
}
else if (grepl(pattern = "B", x = table$X[i])){
table$Endulzante[i] <- "SU"
}
else if (grepl(pattern = "C", x = table$X[i])){
table$Endulzante[i] <- "SA"
}
}
if (grepl("agudo", tablePath)){agudo = T}
else {agudo = F}
if(agudo == T){
for (i in seq(1, nrow(table))){
if (grepl(pattern = "([A-C]) -1", x = table$X[i])){
table$Tiempo[i] <- "-1"
}
else if (grepl(pattern = "([A-C]) 3,5", x = table$X[i])){
table$Tiempo[i] <- "3,5"
}
else if (grepl(pattern = "([A-C]) 12", x = table$X[i])){
table$Tiempo[i] <- "12"
}
else if (grepl(pattern = "([A-C]) 24", x = table$X[i])){
table$Tiempo[i] <- "24"
}
}
}
else {
for (i in seq(1, nrow(table))){
if (grepl(pattern = "F", x = table$X[i])){
table$Tiempo[i] <- "Final"
}
if (grepl(pattern = "([A-C])0", x = table$X[i])){
table$Tiempo[i] <- "0"
}
}
}
table <- table[,colSums(is.na(table))<(nrow(table)*nasPercentageCol)]
if (nasRow == T){
table <- na.omit(table)
}
addAntro <- function (pathToAntro, table) {
antro <- read.csv(pathToAntro, sep = ";", dec = ",")
antro_ST <- subset(antro, antro$Endulzante == "ST")
antro_SU <- subset(antro, antro$Endulzante == "SU")
antro_SA <- subset(antro, antro$Endulzante == "SA")
if (agudo == T) {
for (i in seq(1, nrow(table))){
table[,1][i] <- gsub("U.*", "", table[,1][i])
}
}
else {
for (i in seq(1, nrow(table))){
table[,1][i] <- gsub("[A-C].", "", table[,1][i])
}
}
else{
}
return(table)
}
table <- addAntro("data/datosAntropometricosCardiovasculares.csv",table)
return(table)
}
preprocess <- function(tablePath, nasPercentageCol, nasRow){
table <- read.csv(tablePath, sep = ";", dec = ",")
for (i in seq(1, nrow(table))){
if (grepl(pattern = "A", x = table$X[i])){
table$Endulzante[i] <- "ST"
}
else if (grepl(pattern = "B", x = table$X[i])){
table$Endulzante[i] <- "SU"
}
else if (grepl(pattern = "C", x = table$X[i])){
table$Endulzante[i] <- "SA"
}
}
if (grepl("agudo", tablePath)){agudo = T}
else {agudo = F}
if(agudo == T){
for (i in seq(1, nrow(table))){
if (grepl(pattern = "([A-C]) -1", x = table$X[i])){
table$Tiempo[i] <- "-1"
}
else if (grepl(pattern = "([A-C]) 3,5", x = table$X[i])){
table$Tiempo[i] <- "3,5"
}
else if (grepl(pattern = "([A-C]) 12", x = table$X[i])){
table$Tiempo[i] <- "12"
}
else if (grepl(pattern = "([A-C]) 24", x = table$X[i])){
table$Tiempo[i] <- "24"
}
}
}
else {
for (i in seq(1, nrow(table))){
if (grepl(pattern = "F", x = table$X[i])){
table$Tiempo[i] <- "Final"
}
if (grepl(pattern = "([A-C])0", x = table$X[i])){
table$Tiempo[i] <- "0"
}
}
}
table <- table[,colSums(is.na(table))<(nrow(table)*nasPercentageCol)]
if (nasRow == T){
table <- na.omit(table)
}
addAntro <- function (pathToAntro, table) {
antro <- read.csv(pathToAntro, sep = ";", dec = ",")
antro_ST <- subset(antro, antro$Endulzante == "ST")
antro_SU <- subset(antro, antro$Endulzante == "SU")
antro_SA <- subset(antro, antro$Endulzante == "SA")
if (agudo == T) {
for (i in seq(1, nrow(table))){
table[,1][i] <- gsub("U.*", "", table[,1][i])
}
} else {
for (i in seq(1, nrow(table))){
table[,1][i] <- gsub("[A-C].", "", table[,1][i])
}
}
return(table)
}
table <- addAntro("data/datosAntropometricosCardiovasculares.csv",table)
return(table)
}
tableName = "agudoOrinaAntLimpio.csv"
rootDir = "data/"
tablePath = paste0(rootDir,tableName)
tableName2 = "cronicoOrinaANtLimpio.csv"
tablePath = paste0(rootDir,tableName2)
agudoOrinaAnt <- preprocess (tablePath, 0.05, T)
View(agudoOrinaAnt)
library(scales)
preprocess <- function(tablePath, nasPercentageCol, nasRow){
table <- read.csv(tablePath, sep = ";", dec = ",")
for (i in seq(1, nrow(table))){
if (grepl(pattern = "A", x = table$X[i])){
table$Endulzante[i] <- "ST"
}
else if (grepl(pattern = "B", x = table$X[i])){
table$Endulzante[i] <- "SU"
}
else if (grepl(pattern = "C", x = table$X[i])){
table$Endulzante[i] <- "SA"
}
}
if (grepl("agudo", tablePath)){agudo = T}
else {agudo = F}
if(agudo == T){
for (i in seq(1, nrow(table))){
if (grepl(pattern = "([A-C]) -1", x = table$X[i])){
table$Tiempo[i] <- "-1"
}
else if (grepl(pattern = "([A-C]) 3,5", x = table$X[i])){
table$Tiempo[i] <- "3,5"
}
else if (grepl(pattern = "([A-C]) 12", x = table$X[i])){
table$Tiempo[i] <- "12"
}
else if (grepl(pattern = "([A-C]) 24", x = table$X[i])){
table$Tiempo[i] <- "24"
}
}
}
else {
for (i in seq(1, nrow(table))){
if (grepl(pattern = "F", x = table$X[i])){
table$Tiempo[i] <- "Final"
}
if (grepl(pattern = "([A-C])0", x = table$X[i])){
table$Tiempo[i] <- "0"
}
}
}
table <- table[,colSums(is.na(table))<(nrow(table)*nasPercentageCol)]
if (nasRow == T){
table <- na.omit(table)
}
addAntro <- function (pathToAntro, table) {
antro <- read.csv(pathToAntro, sep = ";", dec = ",")
for (i in seq(1,nrow(antro))){
if (antro$Nº.Volunt.[i] <= 46){
antro$Endulzante[i] <- "ST"
}
if ((antro$Nº.Volunt.[i] >= 51) & (antro$Nº.Volunt.[i] <= 96)){
antro$Endulzante[i] <- "SU"
}
if ((antro$Nº.Volunt.[i] >= 101) & (antro$Nº.Volunt.[i] <= 146)){
antro$Endulzante[i] <- "SA"
}
}
antro_ST <- subset(antro, antro$Endulzante == "ST")
antro_SU <- subset(antro, antro$Endulzante == "SU")
antro_SA <- subset(antro, antro$Endulzante == "SA")
if (agudo == T) {
for (i in seq(1, nrow(table))){
table[,1][i] <- gsub("U.*", "", table[,1][i])
}
} else {
for (i in seq(1, nrow(table))){
table[,1][i] <- gsub("[A-C].", "", table[,1][i])
}
}
table_ST <- subset(table, table$Endulzante == "ST")
table_SU <- subset(table, table$Endulzante == "SU")
table_SA <- subset(table, table$Endulzante == "SA")
antro_ST[,1] <- round(rescale(antro[,1], to=c(min(table_ST[,1]),max(table_ST[,1]))))
print(c(antro_ST[,1],table_ST[,1]))
return(table)
}
table <- addAntro("data/datosAntropometricosCardiovasculares.csv",table)
return(table)
}
tableName1 = "agudoOrinaAntLimpio.csv"
rootDir = "data/"
tablePath = paste0(rootDir,tableName1)
agudoOrinaAnt <- preprocess (tablePath, 0.05, T)
antro_ST <- subset(antro, antro$Endulzante == "ST")
min(agudoOrinaAnt[,1])
max(agudoOrinaAnt[,1])
agudoOrinaAnt[,1]
as.integer(agudoOrinaAnt[,1])
min(as.integer(agudoOrinaAnt[,1]))
max(as.integer(agudoOrinaAnt[,1]))
round(rescale(antro_ST[,1], to=c(min(as.integer(agudoOrinaAnt[,1])),max(as.integer(agudoOrinaAnt[,1])))))
preprocess <- function(tablePath, nasPercentageCol, nasRow){
table <- read.csv(tablePath, sep = ";", dec = ",")
for (i in seq(1, nrow(table))){
if (grepl(pattern = "A", x = table$X[i])){
table$Endulzante[i] <- "ST"
}
else if (grepl(pattern = "B", x = table$X[i])){
table$Endulzante[i] <- "SU"
}
else if (grepl(pattern = "C", x = table$X[i])){
table$Endulzante[i] <- "SA"
}
}
if (grepl("agudo", tablePath)){agudo = T}
else {agudo = F}
if(agudo == T){
for (i in seq(1, nrow(table))){
if (grepl(pattern = "([A-C]) -1", x = table$X[i])){
table$Tiempo[i] <- "-1"
}
else if (grepl(pattern = "([A-C]) 3,5", x = table$X[i])){
table$Tiempo[i] <- "3,5"
}
else if (grepl(pattern = "([A-C]) 12", x = table$X[i])){
table$Tiempo[i] <- "12"
}
else if (grepl(pattern = "([A-C]) 24", x = table$X[i])){
table$Tiempo[i] <- "24"
}
}
}
else {
for (i in seq(1, nrow(table))){
if (grepl(pattern = "F", x = table$X[i])){
table$Tiempo[i] <- "Final"
}
if (grepl(pattern = "([A-C])0", x = table$X[i])){
table$Tiempo[i] <- "0"
}
}
}
table <- table[,colSums(is.na(table))<(nrow(table)*nasPercentageCol)]
if (nasRow == T){
table <- na.omit(table)
}
addAntro <- function (pathToAntro, table) {
antro <- read.csv(pathToAntro, sep = ";", dec = ",")
for (i in seq(1,nrow(antro))){
if (antro$Nº.Volunt.[i] <= 46){
antro$Endulzante[i] <- "ST"
}
if ((antro$Nº.Volunt.[i] >= 51) & (antro$Nº.Volunt.[i] <= 96)){
antro$Endulzante[i] <- "SU"
}
if ((antro$Nº.Volunt.[i] >= 101) & (antro$Nº.Volunt.[i] <= 146)){
antro$Endulzante[i] <- "SA"
}
}
antro_ST <- subset(antro, antro$Endulzante == "ST")
antro_SU <- subset(antro, antro$Endulzante == "SU")
antro_SA <- subset(antro, antro$Endulzante == "SA")
if (agudo == T) {
for (i in seq(1, nrow(table))){
table[,1][i] <- gsub("U.*", "", table[,1][i])
}
} else {
for (i in seq(1, nrow(table))){
table[,1][i] <- gsub("[A-C].", "", table[,1][i])
}
}
table_ST <- subset(table, table$Endulzante == "ST")
table_SU <- subset(table, table$Endulzante == "SU")
table_SA <- subset(table, table$Endulzante == "SA")
antro_ST[,1] <- round(rescale(antro_ST[,1], to=c(min(as.integer(table_ST[,1])),max(as.integer(table_ST[,1])))))
print(c(antro_ST[,1],table_ST[,1]))
return(table)
}
table <- addAntro("data/datosAntropometricosCardiovasculares.csv",table)
return(table)
}
tableName1 = "agudoOrinaAntLimpio.csv"
rootDir = "data/"
tablePath = paste0(rootDir,tableName1)
agudoOrinaAnt <- preprocess (tablePath, 0.05, T)
preprocess <- function(tablePath, nasPercentageCol, nasRow){
table <- read.csv(tablePath, sep = ";", dec = ",")
for (i in seq(1, nrow(table))){
if (grepl(pattern = "A", x = table$X[i])){
table$Endulzante[i] <- "ST"
}
else if (grepl(pattern = "B", x = table$X[i])){
table$Endulzante[i] <- "SU"
}
else if (grepl(pattern = "C", x = table$X[i])){
table$Endulzante[i] <- "SA"
}
}
if (grepl("agudo", tablePath)){agudo = T}
else {agudo = F}
if(agudo == T){
for (i in seq(1, nrow(table))){
if (grepl(pattern = "([A-C]) -1", x = table$X[i])){
table$Tiempo[i] <- "-1"
}
else if (grepl(pattern = "([A-C]) 3,5", x = table$X[i])){
table$Tiempo[i] <- "3,5"
}
else if (grepl(pattern = "([A-C]) 12", x = table$X[i])){
table$Tiempo[i] <- "12"
}
else if (grepl(pattern = "([A-C]) 24", x = table$X[i])){
table$Tiempo[i] <- "24"
}
}
}
else {
for (i in seq(1, nrow(table))){
if (grepl(pattern = "F", x = table$X[i])){
table$Tiempo[i] <- "Final"
}
if (grepl(pattern = "([A-C])0", x = table$X[i])){
table$Tiempo[i] <- "0"
}
}
}
table <- table[,colSums(is.na(table))<(nrow(table)*nasPercentageCol)]
if (nasRow == T){
table <- na.omit(table)
}
addAntro <- function (pathToAntro, table) {
antro <- read.csv(pathToAntro, sep = ";", dec = ",")
for (i in seq(1,nrow(antro))){
if (antro$Nº.Volunt.[i] <= 46){
antro$Endulzante[i] <- "ST"
}
if ((antro$Nº.Volunt.[i] >= 51) & (antro$Nº.Volunt.[i] <= 96)){
antro$Endulzante[i] <- "SU"
}
if ((antro$Nº.Volunt.[i] >= 101) & (antro$Nº.Volunt.[i] <= 146)){
antro$Endulzante[i] <- "SA"
}
}
antro_ST <- subset(antro, antro$Endulzante == "ST")
antro_SU <- subset(antro, antro$Endulzante == "SU")
antro_SA <- subset(antro, antro$Endulzante == "SA")
if (agudo == T) {
for (i in seq(1, nrow(table))){
table[,1][i] <- gsub("U.*", "", table[,1][i])
}
} else {
for (i in seq(1, nrow(table))){
table[,1][i] <- gsub("[A-C].", "", table[,1][i])
}
}
table_ST <- subset(table, table$Endulzante == "ST")
table_SU <- subset(table, table$Endulzante == "SU")
table_SA <- subset(table, table$Endulzante == "SA")
antro_ST[,1] <- rescale(antro_ST[,1], to=c(min(as.integer(table_ST[,1])),max(as.integer(table_ST[,1]))))
print(c(antro_ST[,1],table_ST[,1]))
return(table)
}
table <- addAntro("data/datosAntropometricosCardiovasculares.csv",table)
return(table)
}
agudoOrinaAnt <- preprocess (tablePath, 0.05, T)
round(6.9)
